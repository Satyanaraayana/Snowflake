Below is a clear, step-by-step Snowflake guide to create a new user, assign roles, and grant required privileges ‚Äî written in a DBA / interview-ready way.
________________________________________
‚ùÑÔ∏è Snowflake: Create New User with Role & Privileges
Prerequisite:
You must be logged in as ACCOUNTADMIN or SECURITYADMIN
________________________________________
1Ô∏è‚É£ Create a Role (if not already exists)
CREATE ROLE IF NOT EXISTS reporting_role;
‚úî Best Practice:
Create roles first, then assign them to users.
________________________________________
2Ô∏è‚É£ Grant Privileges to the Role
2.1 Warehouse Access
GRANT USAGE ON WAREHOUSE compute_wh TO ROLE reporting_role;
________________________________________
2.2 Database Access
GRANT USAGE ON DATABASE sales_db TO ROLE reporting_role;
________________________________________
2.3 Schema Access
GRANT USAGE ON SCHEMA sales_db.public TO ROLE reporting_role;
________________________________________
2.4 Table Access
GRANT SELECT ON ALL TABLES IN SCHEMA sales_db.public TO ROLE reporting_role;
Future Tables (Important!)
GRANT SELECT ON FUTURE TABLES IN SCHEMA sales_db.public TO ROLE reporting_role;
________________________________________
3Ô∏è‚É£ Create New User
CREATE USER report_user
  PASSWORD = 'Temp@123'
  MUST_CHANGE_PASSWORD = TRUE
  DEFAULT_ROLE = reporting_role
  DEFAULT_WAREHOUSE = compute_wh
  COMMENT = 'Reporting user';
________________________________________
4Ô∏è‚É£ Assign Role to User
GRANT ROLE reporting_role TO USER report_user;
________________________________________
5Ô∏è‚É£ Grant Role Hierarchy (Optional but Best Practice)
Allow SYSADMIN to manage this role:
GRANT ROLE reporting_role TO ROLE SYSADMIN;
________________________________________
6Ô∏è‚É£ Verify User & Role Grants
Check User
SHOW USERS LIKE 'REPORT_USER';
Check Role Grants
SHOW GRANTS TO USER report_user;
Check Role Privileges
SHOW GRANTS TO ROLE reporting_role;
________________________________________
7Ô∏è‚É£ Example: Read-Only User (Interview Favorite)
CREATE ROLE readonly_role;

GRANT USAGE ON DATABASE prod_db TO ROLE readonly_role;
GRANT USAGE ON SCHEMA prod_db.public TO ROLE readonly_role;
GRANT SELECT ON ALL TABLES IN SCHEMA prod_db.public TO ROLE readonly_role;
GRANT SELECT ON FUTURE TABLES IN SCHEMA prod_db.public TO ROLE readonly_role;
________________________________________
8Ô∏è‚É£ Security Best Practices (Mention in Interview)
‚úî Never grant privileges directly to users
‚úî Use roles for access control
‚úî Use FUTURE GRANTS
‚úî Enforce password rotation
‚úî Prefer SSO / Key Pair Authentication
________________________________________
9Ô∏è‚É£ Common Interview Questions
Q: Difference between USER and ROLE?
‚úî User = identity
‚úî Role = permissions
Q: Can a user have multiple roles?
‚úî Yes
Q: Why FUTURE GRANTS?
‚úî Automatically applies permissions to new objects
________________________________________
üîë Production-Ready Example (One Script)
CREATE ROLE analyst_role;

GRANT USAGE ON WAREHOUSE compute_wh TO ROLE analyst_role;
GRANT USAGE ON DATABASE analytics_db TO ROLE analyst_role;
GRANT USAGE ON SCHEMA analytics_db.public TO ROLE analyst_role;
GRANT SELECT ON ALL TABLES IN SCHEMA analytics_db.public TO ROLE analyst_role;
GRANT SELECT ON FUTURE TABLES IN SCHEMA analytics_db.public TO ROLE analyst_role;

CREATE USER analyst_user
  PASSWORD='Temp@123'
  MUST_CHANGE_PASSWORD=TRUE
  DEFAULT_ROLE=analyst_role
  DEFAULT_WAREHOUSE=compute_wh;

GRANT ROLE analyst_role TO USER analyst_user;
________________________________________
If you want next, I can help with:
1Ô∏è‚É£ Snowflake RBAC design
2Ô∏è‚É£ Snowflake interview Q&A
3Ô∏è‚É£ Snowflake real-time use cases
4Ô∏è‚É£ User creation using SCIM / Azure AD
5Ô∏è‚É£ Snowflake security best practices

